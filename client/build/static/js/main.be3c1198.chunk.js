(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{98:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(25),i=c.n(r),o=c(4),l=c.p+"static/media/popcorn.4a0772c8.png",j=c.p+"static/media/clap.1e572d9e.png";var b=function(e){var t=e.children;return Object(n.jsxs)("main",{className:"background",children:[Object(n.jsxs)("section",{className:"main--menu",children:[Object(n.jsx)(o.b,{to:"/home",className:"links",children:Object(n.jsx)("h1",{children:"THE MOVIE FINDER"})}),Object(n.jsx)("div",{}),Object(n.jsxs)("div",{className:"main--list",children:[Object(n.jsx)(o.b,{to:"/home",className:"links",children:Object(n.jsx)("h3",{children:"Home"})}),Object(n.jsx)("h3",{children:"|"}),Object(n.jsx)(o.b,{to:"/quiz-1-p",className:"links",children:Object(n.jsx)("h3",{children:"1-Player"})}),Object(n.jsx)("h3",{children:"|"}),Object(n.jsx)(o.b,{to:"/start-2-p",className:"links",children:Object(n.jsx)("h3",{children:"2-Players"})})]}),Object(n.jsx)("img",{className:"main--menu--popcorn",alt:"popcorn",src:l}),Object(n.jsx)("img",{className:"main--menu--clap",alt:"clap",src:j})]}),Object(n.jsx)("section",{className:"main--section",children:t}),Object(n.jsxs)("footer",{children:[Object(n.jsx)("div",{className:"footer--sep"}),Object(n.jsx)("p",{children:"Copyright 2020-2021 - Marine Bretonniere"})]})]})};var u=function(){return Object(n.jsx)(b,{children:Object(n.jsxs)("div",{className:"start--container",children:[Object(n.jsx)("div",{className:"start--text",children:Object(n.jsxs)("h2",{children:["Have you decided to watch a movie with a friend, or alone, but you can't reach a decision? ",Object(n.jsx)("br",{}),"You've come to the right place! We'll help you out!",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Are you watching a movie alone or with someone?"]})}),Object(n.jsxs)("div",{className:"btn--wrapper",children:[Object(n.jsxs)("button",{className:"main--btn main--btn--1",children:[" ",Object(n.jsx)(o.b,{className:"links",to:"/quiz-1-p",children:" One player"})]}),Object(n.jsxs)("button",{className:"main--btn main--btn--2",children:[" ",Object(n.jsx)(o.b,{className:"links",to:"/start-2-p",children:" Two players"})]})]})]})})},h=c(2),d=c(56),O=c.n(d).a.connect(window.location.hostname),x=function(e){var t=e.preferences,c=e.setPreferences,s=e.setReceived;return Object(a.useEffect)((function(){O.on("joint_preferences",(function(e){c(e),s(!0)}))}),[t]),Object(n.jsx)("div",{})};var m=function(e){var t=Object(a.useState)(""),c=Object(h.a)(t,2),s=c[0],r=c[1];console.log(s);var i=function(e){s?(O.emit("room",s),r("")):(e.preventDefault(),alert("you must enter a valid code"))};return Object(n.jsx)(b,{children:Object(n.jsxs)("div",{className:"start--container",children:[Object(n.jsx)("div",{className:"start--text",children:Object(n.jsxs)("h2",{children:[Object(n.jsx)("strong",{children:"To start, follow those simple instructions:"}),Object(n.jsx)("br",{}),"1. Connect both your devices to the website",Object(n.jsx)("br",{}),"2. Enter a secret password that you chose with your friend",Object(n.jsx)("br",{}),"3. Answer a few questions",Object(n.jsx)("br",{}),"4. Voila! You've got a movie selection based on both your preferences!"]})}),Object(n.jsx)("h3",{children:"Enter your password and press start to begin!"}),Object(n.jsx)("input",{onChange:function(e){return r(e.target.value)},value:s,type:"text",className:"start--input",onKeyPress:function(e){13===(e.which||e.charCode||e.keyCode)&&i()}}),Object(n.jsxs)("button",{className:"main--btn main--btn--1",children:[" ",Object(n.jsx)(o.b,{className:"links",onClick:i,to:"/quiz-2-p",children:" Start"})]})]})})},p=c(6),f=c(17),g=c.n(f),v=c(27);var N=function(e){var t,c=e.title,a=e.posterUrl,s=e.overview,r=e.handleClick,i=e.index,o=e.language,l=e.setEnd,j="en"===(t=o)?"English":"es"===t?"Spanish":"fr"===t?"French":"ja"===t?"Japanese":"ko"===t?"Korean":"ru"===t?"Russian":"unknown";return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("img",{src:a}),Object(n.jsxs)("div",{className:"card--text",children:[Object(n.jsx)("h4",{children:c}),Object(n.jsx)("p",{className:"desc",children:s}),Object(n.jsxs)("h3",{children:["Original language: ",j]}),Object(n.jsxs)("div",{className:"btn--wrapper",children:[Object(n.jsx)("button",{className:"main--btn main--btn--1",onClick:function(){O.emit("yes",i),r(),l&&l(!0)},children:" Yes!"}),Object(n.jsx)("button",{className:"main--btn main--btn--2",onClick:r,children:" No way."})]})]})]})};c(98);var k=function(e){var t=e.title,c=e.poster,a=e.setShowModal;return i.a.createPortal(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"modal--overlay"}),Object(n.jsxs)("div",{className:"modal--results",children:[Object(n.jsx)("h4",{children:" There's a match!"}),Object(n.jsx)("img",{alt:"poster",src:c}),Object(n.jsx)("h3",{className:"m-4",children:t}),Object(n.jsxs)("div",{className:"btn--wrapper",children:[Object(n.jsx)("button",{className:"main--btn main--btn--1",onClick:function(){return a(!1)},children:"Maybe not..."}),Object(n.jsxs)("button",{className:"main--btn main--btn--2",children:[" ",Object(n.jsx)(o.b,{className:"links",to:"/thanks",children:"That's it!"})," "]})]})]})]}),document.getElementById("portal"))};var y=function(){return Object(n.jsx)(b,{children:Object(n.jsxs)("div",{className:"thanks--container",children:[Object(n.jsx)("h4",{children:" Thanks for playing!!!"}),Object(n.jsxs)("button",{className:"main--btn main--btn--1",children:[" ",Object(n.jsx)(o.b,{className:"links",to:"/home",children:"Start Over"})," "]})]})})};var w=function(e){var t=e.url,c=Object(a.useState)(!1),s=Object(h.a)(c,2),r=s[0],i=s[1],o=[],l=[],j=[],b=[],u=Object(a.useState)(0),d=Object(h.a)(u,2),x=d[0],m=d[1],p=Object(a.useState)([]),f=Object(h.a)(p,2),w=f[0],S=f[1],_=Object(a.useState)([]),M=Object(h.a)(_,2),C=M[0],E=M[1],q=Object(a.useState)([]),z=Object(h.a)(q,2),D=z[0],F=z[1],T=Object(a.useState)([]),R=Object(h.a)(T,2),I=R[0],P=R[1],H=Object(a.useState)(!1),A=Object(h.a)(H,2),Y=A[0],B=A[1],G=function(){var e=Object(v.a)(g.a.mark((function e(){var c,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch(t);case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,console.log(n),a=0;case 9:if(!(a<20)){e.next=21;break}return e.next=12,o.push(n.results[a].title);case 12:return e.next=14,l.push("https://image.tmdb.org/t/p/w440_and_h660_face"+n.results[a].poster_path);case 14:return e.next=16,j.push(n.results[a].overview);case 16:return e.next=18,b.push(n.results[a].original_language);case 18:a++,e.next=9;break;case 21:S(o),E(l),F(j),P(b);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){t.length>0&&G()}),[t]);var J=Object(a.useState)(null),L=Object(h.a)(J,2),U=L[0],W=L[1];return Object(a.useEffect)((function(){O.on("match",(function(e){i(!0),console.log("match :",e),W(e)}))}),[x]),Object(n.jsxs)("div",{className:"card--wrapper",children:[!0===r&&Object(n.jsx)(k,{title:w[U],poster:C[U],setShowModal:i,setShowThanks:B}),x<20&&S!==[]&&!Y&&Object(n.jsx)(N,{title:w[x],posterUrl:C[x],overview:D[x],language:I[x],index:x,handleClick:function(e){m(x+1)}}),(Y&&!r||20===x)&&Object(n.jsx)(y,{})]})};var S=function(e){var t=Object(a.useState)(""),c=Object(h.a)(t,2),s=c[0],r=c[1],i=e.location.state.preferences,o=i.genres,l=i.duration,j=i.year,u=e.location.state.genre,d=e.location.state.durations,O=e.location.state.years,x=[],m=[],f=[];return Object(a.useEffect)((function(){!function(){for(var e=0;e<u.length;e++)-1!==o.indexOf(u[e])&&x.push(u[e]);0===x.length&&(x=o.concat(u)).includes("all")&&x.splice(x.indexOf("all"),1),x=x.join("|"),console.log(x)}(),function(){var e=d.toString().concat(",").concat(l.toString()).split(",");e=e.filter((function(e){return/\d+/.test(e)})),m.push("&with_runtime.gte=".concat(Math.min.apply(Math,Object(p.a)(e)),"&with_runtime.lte=").concat(Math.max.apply(Math,Object(p.a)(e))))}(),function(){var e=O.toString().concat(",").concat(j.toString()).split(",");e=e.filter((function(e){return/\d+/.test(e)})),f.push("&primary_release_date.gte=".concat(Math.min.apply(Math,Object(p.a)(e)),"-01-01&primary_release_date.lte=").concat(Math.max.apply(Math,Object(p.a)(e)),"-01-01"))}(),r("https://api.themoviedb.org/3/discover/movie?api_key=".concat("8982e86b777795ad75ed8d30e1701d9c","&sort_by=popularity.desc&include_adult=false&with_genres=").concat(x).concat(m).concat(f))}),[]),Object(n.jsx)(b,{children:s&&Object(n.jsx)(w,{url:s})})},_=c(3);var M=function(e){var t=e.location.state,c=t.genre,s=t.durations,r=t.years,i=Object(a.useState)(""),o=Object(h.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)(""),d=Object(h.a)(u,2),O=d[0],x=d[1];Object(a.useEffect)((function(){console.log(c,s,r),c=c===["all"]?"":"with_genres"+c.join("|"),"all"===s.join("")?s="":(s=s.join(",").split(","),s="&with_runtime.gte=".concat(Math.min.apply(Math,Object(p.a)(s)),"&with_runtime.lte=").concat(Math.max.apply(Math,Object(p.a)(s)))),"all"===r.join("")?r="":(r=r.join(",").split(","),r="&primary_release_date.gte=".concat(Math.min.apply(Math,Object(p.a)(r)),"-01-01&primary_release_date.lte=").concat(Math.max.apply(Math,Object(p.a)(r)),"-01-01")),j("https://api.themoviedb.org/3/discover/movie?api_key=".concat("8982e86b777795ad75ed8d30e1701d9c","&sort_by=popularity.desc&include_adult=false&").concat(c).concat(s).concat(r))}),[]);var m=[],f=[],k=[],y=[],w=Object(a.useState)(0),S=Object(h.a)(w,2),M=S[0],C=S[1],E=Object(a.useState)([]),q=Object(h.a)(E,2),z=q[0],D=q[1],F=Object(a.useState)([]),T=Object(h.a)(F,2),R=T[0],I=T[1],P=Object(a.useState)([]),H=Object(h.a)(P,2),A=H[0],Y=H[1],B=Object(a.useState)([]),G=Object(h.a)(B,2),J=G[0],L=G[1],U=function(){var e=Object(v.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(l),e.next=3,fetch(l);case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,console.log(c),n=0;case 9:if(!(n<20)){e.next=21;break}return e.next=12,m.push(c.results[n].title);case 12:return e.next=14,f.push("https://image.tmdb.org/t/p/w440_and_h660_face"+c.results[n].poster_path);case 14:return e.next=16,k.push(c.results[n].overview);case 16:return e.next=18,y.push(c.results[n].original_language);case 18:n++,e.next=9;break;case 21:D(m),I(f),Y(k),L(y);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l.length>0&&U(),console.log(l)}),[l]),Object(n.jsx)(b,{children:Object(n.jsxs)("div",{className:"card--wrapper",children:[M<20&&D!==[]&&!O&&Object(n.jsx)(N,{title:z[M],posterUrl:R[M],overview:A[M],language:J[M],index:M,handleClick:function(e){C(M+1)},setEnd:x}),(O||20===M)&&Object(n.jsx)(_.a,{to:"/thanks"})]})})};var C=function(e){var t=e.label,c=e.id,s=e.check,r=Object(a.useRef)(),i=Object(a.useState)(""),o=Object(h.a)(i,2),l=o[0],j=o[1];return Object(n.jsxs)("div",{className:"checkbox--container ".concat(l),id:c,onClick:function(e){j(""==l?"checkbox--container--active":""),s(e)},children:[Object(n.jsx)("p",{className:"checkbox--text",children:t}),Object(n.jsx)("input",{type:"checkbox",ref:r,className:"checkbox"})]})},E=function(e){var t=e.genres,c=e.setGenres,s=Object(a.useRef)(),r=function(e){var n,a;e.target.className.includes("checkbox--container")?(n=e.target.childNodes[1],a=e.target.id):"checkbox--text"===e.target.className&&(n=e.target.parentNode.childNodes[1],a=e.target.parentNode.id),n.checked?n.checked=!1:n.checked=!0,t.includes(a)?c(t.filter((function(t){return t!==e.target.id}))):c([].concat(Object(p.a)(t),[a])),console.log("genres",t)},i=["Action","Adventure","Fantasy","Sci-Fi","Drama","Mystery","War","Romance","Comedy","Horror","History","Animation","Thriller","Crime","Documentary","Family"];return Object(n.jsxs)("div",{className:"quiz",children:[Object(n.jsx)("h4",{children:"Choose at least 4 categories of movies"}),Object(n.jsxs)("form",{className:"form--container",ref:s,children:[[28,12,14,878,18,9648,10752,10749,35,27,36,16,53,80,99,10751].map((function(e,t){return Object(n.jsx)(C,{label:i[t],id:e,check:r},e)})),Object(n.jsx)(C,{label:"I don't mind!",id:"all",check:function(e){t.includes("all")?c([]):c(["all"])}})]})]})};var q=function(e){var t=e.duration,c=e.setDuration,s=Object(a.useRef)(),r=function(e){var n,a;e.target.className.includes("checkbox--container")?(n=e.target.childNodes[1],a=e.target.id):"checkbox--text"===e.target.className&&(n=e.target.parentNode.childNodes[1],a=e.target.parentNode.id),n.checked?n.checked=!1:n.checked=!0,t.includes(a)?c(t.filter((function(e){return e!==a}))):c([].concat(Object(p.a)(t),[a])),console.log("duration",t)};return Object(n.jsxs)("div",{className:"quiz",children:[Object(n.jsx)("h4",{children:"How long do you want the movie to be?"}),Object(n.jsxs)("form",{className:"form--container",ref:s,children:[Object(n.jsx)(C,{label:"More than 2.5 hours",id:"150",check:r}),Object(n.jsx)(C,{label:"2 - 2.5 hours",id:"120,150",check:r}),Object(n.jsx)(C,{label:"1.5 - 2 hours",id:"90,120",check:r}),Object(n.jsx)(C,{label:" Less than 1.5 hours",id:"90",check:r}),Object(n.jsx)(C,{label:"I don't mind!",id:"all",check:function(e){t.includes("all")?c([]):c(["all"])}})]})]})};var z=function(e){var t=e.year,c=e.setYear,s=Object(a.useRef)(),r=function(e){var n,a;e.target.className.includes("checkbox--container")?(n=e.target.childNodes[1],a=e.target.id):"checkbox--text"===e.target.className&&(n=e.target.parentNode.childNodes[1],a=e.target.parentNode.id),n.checked?n.checked=!1:n.checked=!0,t.includes(a)?c(t.filter((function(e){return e!==a}))):c([].concat(Object(p.a)(t),[a])),console.log("years",t)};return Object(n.jsxs)("div",{className:"quiz",children:[Object(n.jsx)("h4",{children:"How old/recent do you want the movie to be?"}),Object(n.jsxs)("form",{className:"form--container",ref:s,children:[Object(n.jsx)(C,{label:"2015-2021",id:"2015,2021",check:r}),Object(n.jsx)(C,{label:"2010-2014",id:"2010,2014",check:r}),Object(n.jsx)(C,{label:"2005-2009",id:"2005,2009",check:r}),Object(n.jsx)(C,{label:"2000-2004",id:"2000,2004",check:r}),Object(n.jsx)(C,{label:"Before 2000!",id:"2000",check:r}),Object(n.jsx)(C,{label:"I don't mind!",id:"all",check:function(e){t.includes("all")?c([]):c(["all"])}})]})]})};var D=function(e){var t=Object(a.useState)([]),c=Object(h.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)([]),o=Object(h.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)([]),d=Object(h.a)(u,2),O=d[0],x=d[1],m=Object(a.useState)(!1),p=Object(h.a)(m,2),f=p[0],g=p[1];return Object(n.jsxs)(b,{children:[Object(n.jsxs)("div",{className:"quiz--container",children:[Object(n.jsx)(E,{genres:s,setGenres:r}),Object(n.jsx)(q,{duration:l,setDuration:j}),Object(n.jsx)(z,{year:O,setYear:x}),Object(n.jsx)("button",{className:"main--btn main--btn--1",onClick:function(e){(s.length>=4||s.includes("all"))&&(O.length>0&&O.length<=4||O.includes("all"))&&(l.length>0&&l.length<=4||l.includes("all"))?g(!0):e.preventDefault()},children:"Next"})]}),f&&Object(n.jsx)(_.a,{to:{pathname:"/results-1-p",state:{genre:s,durations:l,years:O}}})]})};var F=function(e){var t=Object(a.useState)([]),c=Object(h.a)(t,2),s=c[0],r=c[1],i=Object(a.useState)([]),o=Object(h.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)([]),d=Object(h.a)(u,2),m=d[0],p=d[1],f=Object(a.useState)(!1),g=Object(h.a)(f,2),v=g[0],N=g[1],k=Object(a.useState)(""),y=Object(h.a)(k,2),w=y[0],S=y[1],M=Object(a.useState)(!1),C=Object(h.a)(M,2),D=C[0],F=C[1];return Object(a.useEffect)((function(){!0===v&&(O.emit("preferences",{genres:s,duration:l,year:m}),console.log(w))}),[v]),Object(n.jsxs)(b,{children:[Object(n.jsx)(x,{setPreferences:S,preferences:w,setReceived:F}),Object(n.jsxs)("div",{className:"quiz--container",children:[Object(n.jsx)(E,{genres:s,setGenres:r}),Object(n.jsx)(q,{duration:l,setDuration:j}),Object(n.jsx)(z,{year:m,setYear:p}),Object(n.jsx)("button",{className:"main--btn main--btn--1",onClick:function(e){(s.length>=4||s.includes("all"))&&(m.length>0&&m.length<=4||m.includes("all"))&&(l.length>0&&l.length<=4||l.includes("all"))?N(!0):e.preventDefault()},children:"Next"}),v&&Object(n.jsxs)("div",{className:"spinner--container",children:[Object(n.jsx)("svg",{className:"spinner",height:"42",width:"42",children:Object(n.jsx)("circle",{cx:"21",cy:"21",r:"19",stroke:"#F3903D",fill:"none","stroke-dasharray":"100","stroke-width":"2"})}),Object(n.jsx)("h3",{children:"Waiting for the other player to complete the quiz..."})]})]}),D&&v&&Object(n.jsx)(_.a,{to:{pathname:"/results",state:{genre:s,durations:l,years:m,preferences:w}}})]})};var T=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(o.a,{children:[Object(n.jsx)(_.b,{exact:!0,path:"/home",component:u}),Object(n.jsx)(_.b,{exact:!0,path:"/quiz-1-p",component:D}),Object(n.jsx)(_.b,{exact:!0,path:"/start-2-p",component:m}),Object(n.jsx)(_.b,{exact:!0,path:"/quiz-2-p",component:F}),Object(n.jsx)(_.b,{exact:!0,path:"/results-1-p",component:M}),Object(n.jsx)(_.b,{exact:!0,path:"/results",component:S}),Object(n.jsx)(_.b,{exact:!0,path:"/thanks",component:y})]})})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,100)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root")),R()}},[[99,1,2]]]);
//# sourceMappingURL=main.be3c1198.chunk.js.map